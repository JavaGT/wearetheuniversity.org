<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>We Are The University</title><link rel="stylesheet" href="/styles.css"></head><body><header><h1 style="color: #fff;font-family: 'Arial Black', Gadget, sans-serif;font-style: italic;font-weight: 900;text-transform: uppercase;">We Are The University    </h1><nav><ul><li><a href="/">Home</a></li><li><a href="/about">About</a></li><li><a href="/contact">Contact</a></li><li><a href="/blog">Blog</a></li><li><a href="/videos">Videos</a></li><li><a href="/authors">Authors</a></li></ul></nav></header><main><h2 style="text-align: center;">Ihaka Lecture Series 2022 | The genesis of experimentation [1:03:30]</h2><p style="text-align: center;"><a href="https://www.youtube.com/watch?v=05eUR0BZwio" target="_blank">Watch on Youtube</a></p><p style="text-align: center;"><a href="https://www.youtube.com/channel/UCUKg41qkUTUQXGDzklgpmlQ" target="_blank">University of Auckland | Waipapa Taumata Rau</a></p><img src="https://i.ytimg.com/vi_webp/05eUR0BZwio/maxresdefault.webp" alt="Thumbnail for video titled: Ihaka Lecture Series 2022 | The genesis of experimentation" style="width: 100%;"><div class="tags"><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#The University of Auckland</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#University of Auckland</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#UOA</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#Auckland University</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#Auckland</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#New Zealand</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#University</span></div><h2>Description</h2><p>Dr Emi Tanaka - Senior Lecturer in Statistics, Monash University<br>28 July 2022</p><h2>Transcript</h2><p style="opacity: 0.9; font-size: 0.8em">Transcripts may be automatically generated and may not be 100% accurate.</p><p>okay so let's get started um kiara koto<br>my name is jill dobby and i'm a machine<br>learning researcher and a professor<br>in computer science here at the<br>university of auckland um it's my great<br>pleasure to welcome you to the 2022<br>ihaka lecture series which is sponsored<br>by the new zealand statistical<br>association<br>as you all probably know<br>the ihaka lecture series takes its name<br>from ross e haka<br>who along with robert gentleman created<br>the statistical programming language uh<br>here at the university of auckland in<br>1993.<br>it's amazing the influence that the<br>language has had worldwide<br>and in 2021 it was ranked 11th in an<br>influential index that ranks the world's<br>most popular<br>programming languages<br>um of course a large part part of its<br>success can be attributed to our being<br>under a free software license and<br>subsequently the large community that<br>has grown around it<br>i continue to be amazed by the<br>incredible people that are around me and<br>no and ross is no exception to that<br>it's hard to overestimate the importance<br>of his contribution to both statistics<br>the eharc lecture series has covered a<br>number of topics over the years<br>ranging from topics such as the risks<br>and benefits of sharing personal data<br>to the interface between statistics and<br>this year's series features three<br>speakers<br>who develop software tools for data<br>science<br>so the title of the series this year is<br>building building blocks for data<br>science<br>the subsequent lectures in the series<br>are next thursday and the following<br>thursday so that's the fourth and the<br>11th of august<br>so again welcome and i hope you enjoy<br>the 2022 ihaka lecture series i'll now<br>pass over to beatriz who's going to<br>introduce the speaker tonight<br>all right so it's my pleasure to welcome<br>emmy tanaka who comes to us from the<br>department of econometrics and business<br>statistics at monash university<br>so she has had an interesting trajectory<br>through different areas of statistics<br>and computing and through different<br>institutions in australia beginning with<br>her phd at the university of sydney with<br>a topic in statistical bioinformatics<br>with most of the computing done in<br>python and bash<br>she then moved to university of<br>wollongong<br>and then back to the university of<br>sydney and finally to monash in 2020<br>so along the way she's added interest in<br>software development statistical<br>workflows and data visualization and<br>tonight she's going to show us how those<br>things combine with her interest in the<br>design of experiments to create the<br>okay here are everyone um thank you for<br>having me today for the ihaka lecture<br>i'm very honored to be here to talk to<br>you about the genesis or essentially the<br>start of experimentation<br>um so you are probably aware of the<br>recent global<br>pandemic as i can see many of you are<br>wearing the mask and if anything these<br>events is really a reminder of how<br>important science is<br>and in particular the development of the<br>covet 19 vaccine wouldn't have been<br>possible without these experimental<br>trials that can give confidence to the<br>actual effectiveness and the safety of<br>these<br>vaccines<br>um so it's not just about the global<br>pandemic right um<br>really the decisions um or results that<br>come out of experiments really can<br>affect everyday life<br>and for example like what diet is it<br>effective in lowering your insulin level<br>um is a local rules effectively lowering<br>alcohol violence<br>effectively meaning like does policy<br>actually work<br>um so what brand of washing powder is<br>most effective how much fertilizer do we<br>want to use for plant growth<br>so there is a large aspect of our lives<br>that are improved from the knowledge<br>that we acquire from analyzing<br>experimental data<br>so<br>how does an experiment begin in the<br>first place<br>well in general you have this originator<br>of this experiment<br>who is what we call the domain expert<br>who drives the experimental objective<br>and has intricate knowledge about the<br>subject area<br>then followed by we have the so-called<br>designer of the experiment<br>which will be typically an individual<br>that's you know relatable perhaps as a<br>statistician<br>and the statistician will take into<br>account the statistical and practical<br>constraints in order to generate the<br>experimental design layout<br>um followed by we have the so-called<br>executor of the experiment<br>and i'm going to call this person as<br>technician<br>and this technician essentially carries<br>out the experiment um as per the design<br>that's been supplied but also collects<br>the experimental data as well<br>but lastly we have the digest experiment<br>um and this is essentially you can think<br>of it as a person who analyzes the<br>experimental data and it may be the same<br>person as a physician but also it may<br>not be<br>um so all these actors are really purely<br>illustrated<br>in practice uh we could have multiple<br>people taking on each of the different<br>roles<br>and also we can also have one person<br>taking on multiple goals<br>a person who takes off a particular role<br>doesn't necessarily<br>have to be specialized in that role<br>and for example you know experimental<br>design doesn't necessarily have to be<br>generated by somebody that's really<br>thoroughly statistically trained it<br>could be generated by the domain expert<br>we may not have had like the thorough<br>statistical training in the area<br>so the rules are rather fuzzy<br>um and even if we have a very clear set<br>of roles<br>what happens is that um these different<br>individuals will have to still<br>communicate<br>in order to share what they know um<br>to really conduct and experiment<br>um so<br>the thing is communication is inherently<br>fuzzy um and this is where we can kind<br>of learn more by looking at the area of<br>communication theory um so one proposed<br>communication model is this<br>transactional communication model where<br>i've just depicted here where we've got<br>two people here one is domain expert the<br>other one is a statistician<br>and essentially what happens is that as<br>a domain expert is passing along<br>their message just this noise<br>that comes in place<br>so by the time the message gets through<br>to the statistician and the person has<br>to decode the message that decoded<br>message may not have been exactly as<br>intended by given as their domain expert<br>um<br>now that's<br>one um trajection um but then of course<br>um in the transactional communication<br>model what happens is then there is a<br>response coming back from the decision<br>and then again the domain expert will<br>respond back to that communication and<br>so forth<br>so<br>what you will see in practice is this<br>like um a back and forth communication<br>between the two individuals and along<br>each time there is a level of noise that<br>gets encoded in there and some of them<br>might be less but nonetheless<br>we have we have to acknowledge that the<br>communication is indeed fuzzy um and so<br>this transfer of knowledge um in order<br>to actually properly do the design of<br>experiment um is actually hindered by<br>this<br>fuzziness in communication<br>so<br>let's look at an example um let's say<br>that in this in comparative<br>experiment we have some<br>treatments of interest um in this case<br>uh we're looking at that what a diet<br>works<br>for lowering the insulin level and i've<br>got two levels of um<br>treatment one is the control diet and<br>then the other one is a high sugar diet<br>um so<br>the domain expert will explain and say<br>okay<br>we're going to be measuring the insulin<br>after four weeks giving the treatment<br>to the subjects<br>and then uh we will make conclusion from<br>this<br>um and then as a statistician who's<br>going to design the experiment um you<br>will know think about taking into<br>account some of the experimental design<br>principles um including the concept of<br>randomization<br>so the randomization<br>process means that you're going to<br>basically<br>for the given number of subjects you're<br>going to randomly assign them either of<br>um<br>but<br>you know in practice uh what happens is<br>that experiments can be modified during<br>that conversation um so here the domain<br>expert might have said okay actually we<br>want to<br>include the high fat diet as well in<br>terms of comparison<br>um so you you put that in um but then<br>also this possibly some experimental<br>structure in that<br>experiment right which you have to put<br>in in your designing process<br>in order to do your appropriate<br>randomization or optimization process<br>um so<br>and this again you require that<br>information from the domain expert<br>um and in this case we're looking at the<br>diet um<br>floor effect um so essentially there<br>might be like um uh<br>a certain grouping that occurs within<br>your units um if this is a human<br>experiment you might think that and then<br>knowing that um diets<br>um the effect of our diet on the insulin<br>level might be biologically driven you<br>might want to look at um the sex of the<br>different individuals and stratify your<br>randomization according to different sex<br>age is also a factor as well known in<br>that in terms of the insulin so again<br>you might want to also block things<br>according to their age as well<br>um so this is something that you really<br>um in order to do your experiment um you<br>need to extract that information<br>out<br>from the domain expert<br>and<br>my proposition is that communication is<br>really the key to get the most out of<br>the experimental data<br>without really getting that information<br>um you can't really do a design um well<br>so while we would like to think that you<br>know coming up with a complex design um<br>is good in or getting out the most<br>efficient information out of it uh<br>really without having extracted the<br>relevant key information um you won't be<br>able to do the design process well<br>enough<br>so i want to talk to you about another<br>aspect of the design um and that's the<br>design of the domain specific language<br>now for those people who don't know what<br>a domain specific language is<br>um that's a computer language<br>specialized in a particular application<br>domain<br>and r is one of the most popular as you<br>just heard in the introduction dsls for<br>statistics<br>um<br>so<br>if we look at experimental design r<br>packages um<br>uh well first of all its packages itself<br>is internal dsl<br>um and there are over like a hundred are<br>packages for the design and analysis of<br>experiments um and in contrast if you<br>look at other languages there's like<br>only a handful as an example like a<br>python only has a handful of packages<br>and if you also look at the output of<br>the<br>designs from python the range is also<br>quite limited as well<br>and i bring this up as an example not<br>because i'm trying to make it a battle<br>between like the languages and saying<br>one of the languages is better<br>um it just tells you that really um i is<br>like a place where i think a lot of<br>statisticians contributed and<br>particularly experimental design<br>contribution is quite large in that area<br>if you look at this set of packages um<br>you can find actually that a lot of the<br>popular ones are very using<br>the recipe based functions and i'll show<br>you in a minute what just i mean by this<br>if you<br>want to<br>know more information about this um i<br>have a paper on this that actually talks<br>about<br>the more thorough<br>like analysis of these experimental<br>um<br>so let me start with showing<br>one of the most popular ones<br>so this is a ugly collab our package and<br>this was the top downloaded packages<br>like for many years<br>um<br>and so<br>if you look at this so in the first<br>instance what i'm doing is just<br>describing like a vector of the um the<br>treatments so the different diets<br>um so i have three levels here<br>um the very first design that i'm<br>generating using the ugly color package<br>is um the completely randomized design<br>so if you look at the name of the<br>function um it's design.crd<br>and the cld is essentially the acronym<br>of the um the complete design randomized<br>design<br>so if you don't know what this is<br>essentially what happens is that you<br>just have a set of<br>subjects<br>set of units and in this case we got a<br>replicate of 10 for every<br>diet so there will be 30 altogether in<br>terms of the subjects<br>and then here we're passing in the diets<br>as a treatment right and then the<br>complete randomization means that<br>there's no structure on the units nor is<br>there any structure on the treatments as<br>well<br>then we have the randomized complaint<br>block design um in this instance what<br>happens is that there are 10 blocks<br>which are each equal to one replicate<br>and within each block what happens is<br>that every treatment only appears<br>exactly once and it's randomized within<br>each of those blocks<br>uh so<br>if you look at the name of the function<br>again here it's design.rcbd<br>and then the that function<br>essentially is an acronym of that<br>randomized complete block design<br>then let's say that we have another<br>treatment factor um this time we're<br>going to include exercise which has two<br>levels whether that subject headed<br>exercise or not<br>um and we can generate a factorial<br>design um this one less obvious in terms<br>of name but it's design.a b and then<br>what happens is that you pass in the<br>number of levels for each of the<br>different um treatments factors and<br>split plot design um so this is like a<br>special design um so this particular<br>named design means that you've got a<br>factorial design with two<br>two fact treatment factors um so you<br>feed in each one of them so treat one<br>one is going to be the diet treatment<br>treatment two is going to be the<br>exercise amino will have 10 replicate<br>now that's the structure on the<br>treatment but there is a structure also<br>on the units<br>and the way that the units work is that<br>there's a nesting structure<br>so essentially the small units are<br>nested within the big units<br>and also the allocation is also<br>special as well where here where instead<br>of completely<br>randomly allocating the treatments to<br>the units what happens is that the uh<br>the one of the treatment factors is<br>applied to the big units and then the<br>other treatment factor is applied onto<br>now let me show you the other one this<br>is arc design um and this is a class of<br>um it generates a class of optimal<br>designs where a particular model is<br>given<br>and based on the user supplied<br>user<br>chosen<br>criterion it's going to algorithmically<br>find the permutational treatments such<br>that it optimizes<br>the criterion<br>um<br>so<br>in the first instance what i'm doing is<br>to create like a candidate list of the<br>treatments<br>um and then here what happens is that um<br>the<br>function the opt federal from arc design<br>um is going to create optimal design<br>according to the fedora's exchange<br>algorithm so first instance of the<br>argument is essentially the um the model<br>that you specify<br>and then you fix in your candidate list<br>of treatments<br>um number of trials and then also like a<br>certain criterion in this case i've<br>picked the d criterion<br>um another function um is using the<br>optimal design via monte carlo approach<br>so very much similar but the algorithm<br>under the hood is just different<br>and i think this is actually not too bad<br>um in a sense that it is quite a general<br>and unlike the previous one where we saw<br>their recipe based um design in terms of<br>the randomized design um this has a<br>little bit less constraint of like what<br>you need to feed in in terms of the<br>structure you get<br>um but you may have noticed um in both<br>packages<br>you really can't infer the context quite<br>well<br>in particular<br>did you realize what the<br>units were in this particular treatment<br>experiment<br>so<br>reading the code you can't you can see<br>what the treatments are<br>but you really don't have any<br>information about the units written out<br>and while you might have imagined that<br>this diet experiment<br>is on humans<br>um the actual basis of this was based on<br>animal<br>study and then now that you are given<br>that context as a designer of the<br>experiment you may have certain domain<br>knowledge um or you may have acquired<br>domain knowledge from your domain expert<br>collaborator<br>who would have told you that look um<br>pigs come in litters and so when we're<br>doing this experiment a natural block to<br>really block it according to witches as<br>well so that's actually a unit structure<br>that you would need to put in<br>consideration when you want to create<br>your design<br>so in part we have um in just looking at<br>the code certain informations are<br>actually not written<br>and you may normally when you start<br>doing the designing process you may have<br>had this implicit understanding um and<br>so you may have put the blocking<br>structure appropriately within that but<br>say another person will come just like<br>later on we will have an analyst that<br>comes later on which could be a totally<br>different person and this is very likely<br>um<br>because of the fact that time elapses<br>some between experiments<br>um so that person comes about new and<br>looks at your experiment design code<br>will not be able to tell what exactly<br>happened so certain information may get<br>lost along the way um because a lot of<br>the information were implicitly known to<br>people um and so but then they weren't<br>ever explicitly written somewhere<br>um and then the knowledge of how the um<br>the data was generated actually can also<br>affect<br>how you're going to do your analysis um<br>so<br>let me talk about the work that i've<br>been doing in this particular area um<br>and i've been kind of like writing up a<br>computational system about um this<br>and i've been putting it in a book<br>called the grammar experimental designs<br>and it's not complete um but if you want<br>to see like the progress um you can<br>always go to their link ami tanaka dot<br>org slash edible dash book<br>um<br>so<br>much of this work is really about this<br>abstract and concrete syntax<br>um and this is a concept coming more<br>from computer science<br>so<br>the definition of a concrete syntax is<br>that it's a reference to the external<br>representation of a language<br>and when i say abstract syntax<br>that refers to the internal<br>and what i'm doing in this whole the<br>grammar of experimental designs<br>is essentially proposing a design of<br>these abstract and concrete syntax<br>and essentially<br>i'm putting forward that as by doing<br>this we can aid the intra personal and<br>interpersonal communication that's<br>ultimately going to help you design the<br>experiment<br>so<br>to be more specific when i say<br>intrapersonal<br>so this is actually the code that you<br>see that you've written up<br>um the way that it's been designed the<br>syntax itself i think can help users<br>clearly express as well as abstract and<br>qualify what the desired experimental<br>design is<br>so interpersonal is just like your<br>communication with yourself<br>um and<br>also now that you've explicitly written<br>it out that communication is no longer<br>just by yourself as well it can now be<br>read by other people and this is where<br>the interpersonal part comes in where<br>other people can read your code and have<br>an understanding of what you understood<br>at the time and the intention of that<br>particular<br>code like a design as well<br>okay<br>so it's best to see uh example um so<br>i've got this example which comes from a<br>paper in ecology<br>um it's looking at the plant diversity<br>effects on cell microbial functions and<br>enzymes<br>um<br>um on a glass line experiment<br>so they had some hypothesis<br>um so one is increasing plant diversity<br>leads to increasing soil microbial<br>biomass and enzyme activity<br>um higher temperatures decreases so<br>microbial of biomass<br>and enzyme activity and the third<br>hypothesis was higher plant diversity<br>buffers effects of elevated temperature<br>on soil microbial biomass and enzyme<br>activity<br>so you can have a look at this paper um<br>but<br>i'm just going to strip down to the<br>experimental design part and this is<br>like the full um description of it which<br>is rather wordy um and<br>we because we won't have time to<br>carefully read through this i'm just<br>going to present like a condensed<br>version of it<br>so i'd like you to have a read of this<br>and then while you are reading this<br>um have a think of like what is this<br>experiment um structure like what sort<br>of units do we have what's the treatment<br>so i'll just give you a few minutes to<br>would anyone like to volunteer like what<br>you think um the experimental structure<br>i know some people who are very good at<br>experiment designs so i'm pretty sure<br>some are in auckland so i'm pretty sure<br>so i heard some<br>but<br>internal planting like in a hot house or<br>are we dealing with an external plant<br>like an aggregate farm<br>like so this one is actually<br>this is outside so it's not inside like<br>a glass house okay just that you<br>mentioned there about the heat<br>treatments emitting 600 watts<br>um that's what i which i read write<br>and that way you've got variance of<br>temperature control of the environment<br>it can affect the soil and the growth<br>rates of your plants<br>whereas in the white house you have got<br>temperate control that you can vary<br>depend on the external factors that if<br>it's raining outside the hot house will<br>have certain environmental conditions<br>yeah so um they do show the setup index<br>um the actual paper and they have a<br>picture it looks like it's set up<br>outside and they have some kind of thing<br>do you kind of know what's the treatment<br>the heat and the number of plant species<br>yes<br>so<br>we're looking at the diversity um and<br>i'll just start highlighting um so plant<br>diversity and we're looking at the<br>gradient of 1 4 or 16. um this is<br>actually randomly chosen from the set of<br>like 19 species they have um so that's<br>one of the treatment factors they're<br>looking at<br>um unit wise there's this part that says<br>plots were divided into three subplots<br>so this is um kind of describing a bit<br>of hierarchical structure within the<br>units so one subplots are going to be<br>nested within the plots<br>and then we got the heat treatments<br>um so this one specifically says it's<br>applied to subplots and then if you look<br>at the different heat treatments we're<br>looking at the the so the whole thing<br>about the watts is about how they<br>applied in order to get a certain<br>constant increase in temperature whether<br>that's actually true or not i do not<br>know i have to assume that's the true<br>from given the what's been written<br>um but this causes essentially an<br>increase in 1.5 degrees celsius increase<br>another one is three degrees celsius<br>increase and there's the one that's<br>controlled so there's no<br>um<br>heat treatment that's been applied into<br>that particular plot<br>um<br>now<br>there's 27 experimental plots in this<br>one and so<br>um in fact if you look carefully at this<br>this is actually a split-flop design<br>um so you can see heat plots applied to<br>subplots um and plant diversity applied<br>to the bigger like the plot itself the<br>experimental plots<br>so<br>let me show you how the code will be<br>using the system i have built um called<br>edible<br>so edible um<br>once you load it up the first instance<br>is that you're just going to initiate<br>the design<br>so the design here just passing in the<br>name of the particular author of the<br>paper and that can be anything<br>um next instance i'm defining the units<br>here i'm specifically saying that i've<br>got two sets of units the plot and<br>subplot um plot there are 27 levels and<br>in terms of the subplot well we've got<br>it nested within the plot and then<br>um for each plot we've got three<br>subplots<br>then the treatments we've got the number<br>of species um so<br>one for 16<br>which is measuring the diversity<br>um and then we've got the temperature<br>right the three different temperature<br>levels<br>in terms of the what treatment gets<br>applied to what unit well the diversity<br>number of species is applied onto plot<br>um temperature is applied onto subplot<br>then we're going to assign and how we're<br>going to assign it this is random<br>and this is a part where you can modify<br>things to other kind of assignments<br>and arguably i would say that this is<br>actually the component where a lot of<br>people focus on when you are doing the<br>designing of experiment<br>how to appropriately doing do the<br>assignment of the treatment onto the<br>units given the constraints that you<br>previously defined<br>um here what happens is that i've got a<br>very<br>simple kind of application in there<br>but of course what happens is that this<br>this part can be substituted by any<br>other functions instead<br>um then you serve table and surf table<br>here is an um indication basically<br>saying that okay i've defined all my<br>components of the experiment<br>um and i'm now ready<br>to get the experimental design table<br>um so that's what you see at the very<br>end so you get produce and edible which<br>edible which is name of the package<br>stands for experimental design table or<br>if you are a tidy verse user it's<br>experimental design table<br>so you can get a data frame back um and<br>essentially um this actually has the<br>allocation<br>of the treatment factors to a particular<br>unit<br>so why edible<br>so<br>the way that i saw with this is that the<br>semantics of the syntactic sugar are<br>really aligned with basic terms in<br>experimental design<br>um before when we had a look at the ugly<br>color package when we had that recipe<br>design um we don't really get reminded<br>of what the units are or the treatments<br>or even what the allocation process is<br>um but here instead of actually<br>using a recipe design um what happens is<br>that i'm actually thinking about it more<br>in basic terms<br>um also the way that the code's written<br>can be used for communication to capture<br>the user intention<br>um experimental structures um is built<br>step by step so you've got the abstract<br>syntax that allows for incomplete and<br>experimental structure<br>and so this is part of the innovation i<br>thought um is that a lot of times when<br>you try to create an experimental design<br>and you face the software<br>uh it seems like you don't you can't<br>have like a um incomplete understanding<br>of the current structure like you have<br>to be able to have like a complete set<br>you need to know exactly how much<br>replicates you're going to have what set<br>of treatments you have um and so forth<br>um so the<br>part about this in the edible is that<br>it's kind of delineated um so you can do<br>it step by step if you know what the<br>treatments are you can start writing it<br>out um if you know what the units are<br>you can write out that in another step<br>so there's a part where like the whole<br>object is stored um if you don't know<br>the full structure uh as um intermediate<br>um product which is um<br>on the corvette it's just a graph<br>um<br>then the concrete syntax is being made<br>easy to replace um because now<br>everything is like a single step um and<br>so what happens is that like you know um<br>if you find particularly that you don't<br>like the way that i assign their<br>treatments onto the units which you<br>rightfully oh you shouldn't um because<br>it's hard to actually make a very<br>general assignment um without actually<br>making sure that you get like a<br>um<br>assignment that's specifically catered<br>for your situation um so you might want<br>to replace that step<br>um but then instead of having to do all<br>the other things i mean it's just<br>basically one single step that you you<br>want to modify rather than be doing the<br>whole thing from scratch<br>um and the last part is that um there's<br>a lot of downstream benefits um and this<br>is essentially one of the things that i<br>thought but it's very important to have<br>um because it is actually a lot of work<br>um in order for people to write it out<br>as you compare to the syntax that you<br>saw before<br>um and so there needs to be you know<br>something in it um if you're going to<br>commit something like that besides from<br>the principal point of view that you're<br>actually clarifying the different<br>components<br>so some of the downstream benefits<br>can include things like easy and quick<br>visualization<br>so this is an extension package um i've<br>built called d gust now this one is um<br>still a developmental and it's gonna<br>probably rapidly change<br>but i wanna just present the idea behind<br>it<br>so degast um is essentially um you can<br>think of it as design of experiments as<br>gg plot object so d e g g<br>um and also it's short for degas station<br>um which if you go out in restaurants<br>you get a gas station menu uh it's<br>essentially an appreciation of your um<br>food right<br>and so this is the case where we're<br>looking at visualization of your<br>experimental design<br>essentially it's an appreciation of your<br>and really the idea behind this package<br>is just a simple function called<br>autoplot<br>and what you do<br>is you pass in the edible design object<br>um the final design into the auto plot<br>and you've done this hard work of<br>defining what the unit structure as well<br>as the treatment structure and its<br>allocation are already right<br>so that information is encoded within<br>the object<br>so the idea behind this is that now what<br>you want to do is to leverage that<br>information in order to quickly make<br>like what might be a good plot<br>and the quick part is important because<br>then you can do this quickly perhaps<br>when you are talking to your domain<br>expert collaborator um and just quickly<br>clarify whether this is the correct<br>structure or not<br>um so you can see the output you get um<br>on the right hand side um and so you see<br>here that there are 27 experimental<br>plots um and there are three subplots so<br>the circles that you see are the<br>subplots and there's like two circles<br>one the outer<br>color actually shows you the um the num<br>the diversity<br>the number of species um color map to<br>the number of species level<br>um the inner circle shows you the um the<br>temperature treatment and then the<br>colors basically map to that particular<br>treatment factor so you can see how it's<br>been allocated um for the particular<br>different experimental plots and<br>supplements<br>um<br>so<br>a quick communication is indeed useful<br>um but because it is a gg plot object<br>you can actually customize this<br>visualization using um your existing<br>knowledge if you are already a gg plot<br>user<br>um so what's happening here is that i'm<br>just<br>modifying what the um the design i had<br>before<br>and then you know you might want to<br>actually publish your experiment design<br>so you want to polish it up<br>um in terms of how you modify it well it<br>is a gg plot object so you can just use<br>whatever gg block functions um on top of<br>it in order to customize it so anything<br>you see from line um<br>uh<br>6 to 17 um is essentially not from<br>my package but from gg plot package i<br>mean you'll see the modification that<br>you see on the right<br>um you also have actually ability to<br>substitute<br>the units so that it's not circle um so<br>if this is a case it's a plant study you<br>might want to use a picture of a plant<br>and then you can pass in a picture or a<br>plant and get like a product out there<br>so at the moment um it's<br>a bit slow to do that so there's some a<br>lot of work that i need to do in order<br>to polish this up um but this is a<br>general idea that in part<br>um<br>you know<br>it's to enhance communication<br>visualization is indeed one of the parts<br>that can be helpful and if you can get a<br>quick visualization great for<br>communicating<br>on fly with your collaborator<br>um if you can get like a polished up<br>visualization that might be helpful for<br>the technician as well right to get that<br>plan to follow<br>um and you can also use it for<br>now there's another downstream benefit<br>which is to set record<br>and by record um in the edible<br>system this refers to variables that you<br>intend to measure or observe<br>um and that's generally talking about<br>the responses<br>so a lot of time when you do design you<br>don't really need to<br>know<br>the response itself<br>but<br>actually exclusively making a statement<br>about it can be helpful<br>um and so you can do that in edible um<br>and on top of setting the records you<br>can set expectation of those records<br>right so write down the plausible value<br>of those records um you can also do<br>simulations um of those records um and<br>that's why i quickly um simulate it and<br>you know do a nice mock kind of<br>pseudo-analysis on it um see how it is<br>and that simulation actually takes can<br>take the information based on what<br>you've set in your expectation<br>um<br>you can also export your data which<br>contains data validation um and so this<br>is the case where if you have your set<br>your expectations um and essentially if<br>your record is um something like um<br>looking at the biomass<br>then<br>a biomass can only be a positive number<br>um and therefore the any kind of input<br>that goes into the data should always be<br>a positive number<br>um so when you export this then if a<br>technician tries to enter a data that is<br>actually<br>not um within a valid range<br>um so a negative number character so<br>force um he actually wouldn't allow you<br>to input that<br>um so i'll show you the syntax for this<br>um so here we've got the design from<br>before<br>um and we pipe it in so that it goes to<br>the set records um so the left-hand side<br>is a new variable you're creating called<br>the microbial biomass and you're<br>measuring it onto the subplot so the<br>right hand side is an existing variable<br>within your<br>design<br>that just is um quite boring um because<br>all it does is create a new column and<br>then it has like no information on it<br>just tells you there's a record and at<br>this point you're just signaling your<br>intention to again to capture um like<br>what you're going to measure<br>um the next step is this part where it's<br>setting the expectation that this<br>response is going to be a positive<br>number<br>so i'll just show you like um a live<br>code<br>of this<br>so you can actually see how it works<br>um<br>so i've got that and<br>i'll just show you one line at a time so<br>you can see just does nothing like when<br>initially initiating it and then you can<br>go on to do step by step um the printout<br>just shows you um like what the graph<br>structure may look like um internally<br>you can't see a data frame as yet<br>because you haven't signaled it<br>um<br>and even if you signal it<br>let's say<br>i<br>say something like this so you've got<br>plot equals to 27 subplot equals to 3. i<br>haven't defined any relationship between<br>the two of the units and you try to get<br>the table from this<br>what happens is that it doesn't output<br>anything<br>because it can't reconcile to understand<br>how these variables should be related to<br>each other<br>um<br>so the table only shows where if<br>the observations if the different<br>variables can be mapped to a single<br>observational unit um and then um you<br>will get like um a valid<br>output<br>so all this is just basically um a<br>temporary structure and then just holds<br>as a graph information until you get to<br>the final part<br>all right we've got that<br>table<br>and<br>go to the red color plot<br>so the record<br>again it's quite boring just creates<br>that extra variable<br>nothing between their information<br>this one also doesn't really tell you in<br>terms of much um because it's kind of<br>the uh<br>the validation the data validation is<br>just encoded behind the scenes<br>but if you save this<br>and let's say that i'm going to export<br>the file name<br>the downloads table<br>um<br>now it's been<br>written out<br>and so here is the file<br>and then if i go to the data column i've<br>got this part now if i try to like enter<br>like a negative number<br>it's been encoded so that validation<br>rules already in there<br>um so<br>that's what i mean by the expectation of<br>the record and how the data validation<br>is comes in play um in terms of the<br>simulation um this is again like work in<br>progress<br>um but what happens is that you can<br>simulate records and say that myocardial<br>biomass um it's going to be normally<br>distributed<br>and then give it the mean and our<br>standard deviation associated with it<br>and when you do this<br>what happens is that it will generate<br>according to that um and some na's are<br>created in here because i've chosen the<br>values that so that it's more likely to<br>get negative numbers um and this has<br>been censored by default to be like a<br>missing value but you can sense of it to<br>be positive about like zero or other<br>kind of values as well<br>um<br>so<br>in this part here can also be based on<br>like um<br>the terms in the other one so you can<br>actually do it according to the number<br>of species or temperature and assign<br>different effects for it so it's a bit<br>more realistic than assuming that um the<br>whole thing is generated from a normal<br>distribution<br>um<br>so<br>the main thing about is that the data is<br>encoded as an object um and this allows<br>you to actually um use this information<br>um and so some of the things you may not<br>really um agree with i mean that's okay<br>but the main thing is that it's been<br>encoded you don't like particular<br>functions that i've created um please<br>feel free to let me know if so first<br>but also um you can easily replace it as<br>well just you can just use the encoded<br>information in the way that you like<br>instead<br>now the another thing you can do is to<br>do um unbalanced design as well and the<br>syntactic sugar for this i think has<br>made it a little bit easier than the way<br>that maybe typically would do it um in<br>terms of like um like a procedural kind<br>of programming style<br>so in this particular experiment we<br>actually had this plant diversity um<br>with one four or sixteen species and<br>these species essentially were taken<br>from like um a random choice of 19 um<br>species right<br>so i could kind of create like a similar<br>scenario um based on this so 27 plots<br>and such that the first nine is going to<br>have one species the next nine is gonna<br>have four species and the next one is<br>going to next nine is gonna have 16<br>species<br>um so here<br>um like i don't have to have like a<br>exactly same number of<br>uh units within a particular<br>larger unit i'm allowed to get like a<br>different values um and for those people<br>who are familiar with tidy verse and use<br>case when the syntax is very similar to<br>that essentially<br>um after i do that it's essentially the<br>treatments here can be thought about<br>with the 19 species and you're assigning<br>the species onto the plant and it's a<br>random assignment<br>um<br>and<br>we can have a look at the<br>quick visualization to see indeed this<br>is actually done the correct structure<br>so if i output this<br>into it you can see that there is indeed<br>one<br>plant<br>only<br>for the first nine four for the next<br>nine and then uh 16 for the next one<br>now here what happens is that there's<br>going to be too many colors they were if<br>they were 19 so i've just like got an<br>option to say that the max is going to<br>be three and everything else is<br>collapsed into like other categories<br>instead<br>okay<br>so<br>um<br>now you might realize with this work<br>that the whole designing of the abstract<br>and concrete syntax is somewhat<br>subjective<br>um and there are some opinionated<br>choices<br>but what i found kind of helpful is to<br>read work in more in the computer<br>science<br>so if you<br>do this kind of thing as well i find it<br>very helpful to look at more design<br>guidelines for domain specific languages<br>and definitely a lot of people i think<br>in computer science have already thought<br>about this<br>um so i think you i try to think of it<br>in their terms and try to leverage what<br>they've done<br>um some of the<br>concepts that come up quite often are<br>for example consistency um using and<br>leveraging other work<br>um and then trying to have as there's a<br>bit of a constraint in number of<br>elements that you make so don't keep on<br>adding more functions like have it so<br>that it's a bit more concise so while<br>you want to allow users to be able to<br>express<br>um but also by having a certain<br>constraint in the way that they can<br>express a certain concept<br>makes it easier to standardize<br>things<br>um and also<br>use<br>essentially language that already a lot<br>of people will be familiar with um and<br>you want to try to enable a modular kind<br>now so today we are at the ihaka<br>literature and i wanted to also<br>acknowledge the great work that<br>professor rossi haka has made as the<br>original creator of art<br>um this work i really present today<br>really builds on the shoulders of many<br>giants and without having leveraged all<br>the contributions that are made by the<br>r14 thai diverse team and the wider our<br>community i wouldn't have been able to<br>get this far<br>so thank you again for having me today<br>and listening to my talk<br>just to summarize um so experiments are<br>human and davis and we have to<br>acknowledge that there are inherent laws<br>to the way that as humans we communicate<br>and can understand with each other<br>um so<br>i think even among this fuzziness though<br>if we have a framework it can shed more<br>clarity around it um and if anything i<br>think um<br>uh that's the way to really<br>tackle<br>a good way of getting the most out of<br>experimental data keeping in mind the<br>garbage in and garbage out principle um<br>we might like to think that sometimes<br>having really complex analysis is great<br>but then no matter how good your models<br>are<br>your it really won't save you by doing<br>that complex analysis<br>if your data itself is garbage to begin<br>with<br>so you can find my slides at the<br>itanaka.org<br>slide slash ihaka 2022<br>and also if you like to play around with<br>the packages edible is on cram<br>and if you want to play around with<br>degas at the moment is only available on<br>github<br>um you can also find the book that's in<br>work in progress and other things and if<br>you have any kind of feedback or<br>comments i very much love to receive<br>them so feel free to contact me as well<br>thank you everyone<br>so we have<br>time for questions and we've got some<br>lovely helpers that if you have a<br>question they will bring the microphone<br>to you<br>uh<br>so um<br>my question is um what a template did<br>oh what template yeah<br>oh that one<br>uh i think it was a midnight um<br>tomorrow midnight right<br>can you get<br>um<br>sort of printed layouts for things like<br>for designs for things like 98 96 well<br>plates or whatever<br>out of the<br>uh software it seems like that would be<br>something that the<br>uh the plot the plots would also be<br>useful for would be getting the<br>um we'll be getting pictures of layouts<br>for<br>the picture of the layouts yeah so for<br>putting on a<br>on on well on a<br>bit of um<br>oh like in the export or in a yeah<br>export or in a<br>you know if you're in a lab study if you<br>wanted to say which things go in which<br>spots on our 96 well plate<br>or something like that<br>because these these aren't these are<br>pictures of the design but they're not<br>pictures of the<br>no they're not<br>um<br>so<br>the<br>hmm<br>so i guess yeah that would be like a<br>substitution of the<br>um the legend<br>um at the moment<br>so if this shape i think it stays the<br>same as a circle um but<br>um you're all right though boy would be<br>nice to actually have this as like the<br>actual experimental treatment<br>um is that what you mean thomas<br>i think it's more like you've got plot<br>one to plot 27 there<br>and some like keen plant people might<br>want to know like what the layout is<br>north south<br>um<br>and that kind of thing so oh yeah<br>and and i mean i think it's the same<br>thing with the with the plate yeah<br>exactly the same sort of thing with the<br>lab<br>yeah so in that sense then the user<br>needs to specify like the coordinates um<br>so you could do um in particular<br>like a row column structure<br>um so there is a function um within here<br>that actually does allow the<br>um that sort of like a two-dimensional<br>design um and if that's the case then<br>the output is going to be like um<br>it will be like uh<br>uh<br>um like um layout as you expect in a<br>field um so let me just show you an<br>if i go to cookbook<br>and then<br>let's look at the latin square design<br>um so we've got row column and then the<br>unit is essentially a cross of the row<br>and column um and so what you would do<br>is that if you have this structure um<br>you will need to define this and then<br>the order plot for this one is that it<br>recognizes that it's this<br>world column design and then you will<br>choose based on that<br>but without this information<br>encoded you won't be able to infer it<br>automatically<br>kathy<br>so<br>um nice talk thank you um paul paul a<br>few years ago i worked on an<br>experimental design and<br>in that design we were working with<br>rat livers and rat livers are different<br>to human livers they have these lobes<br>and so what they were doing was every<br>hour or maybe it was less every half<br>hour they would cut a slice off one of<br>the different lobes because they<br>believed to be have different functions<br>so the scientists asked me if i could do<br>a diagram which showed the or the random<br>order in which the lobes would be sliced<br>and actually paul he doesn't remember<br>but it's about five six years ago and he<br>helped me so in that case he had a book<br>which said on this day this rat is going<br>to have<br>lobe<br>three sliced an hour one lobe one sliced<br>in hour two and so forth so<br>that's what he had so that's is that<br>your sort of idea um thomas where you've<br>got an image that's really quite<br>specific to the experiment<br>so you can do that sort of thing so<br>that's just a long comment sorry but my<br>other question is um something that i'm<br>interested in<br>and that is that you have the um the<br>data validation built in which is kind<br>of really nice<br>and i was wondering what you use to<br>create that<br>when you export that you actually have<br>that the validation rule is being<br>exported to excel what did you use to do<br>that<br>yeah so this is based on a package<br>called open xlsx<br>xlsx<br>um and essentially what happens is that<br>the data validation<br>is encoded via the excel route um i<br>can't do a csv in this instance<br>um yeah so if you look up that package<br>it's really coming from that that's<br>charlotte<br>cure emmy um my name's charlotte um<br>great talk thank you um i just i think<br>hopefully a really simple question i'm<br>coming from the idea of teaching this<br>kind of stuff to biology students<br>i love the idea of the step-by-step<br>piping which i guess is a tidy burst<br>thing<br>is there scope to then basically have a<br>fine line after that simulate data that<br>you showed us to<br>i want to say analyze that data but you<br>know what i mean<br>i know what you mean so that's a model<br>um<br>yeah i actually thought about that and<br>then i was also very um careful because<br>that means that people might think that<br>model is like the absolute one um<br>so if you go to the issues um<br>and um if you have comments about this i<br>would um love to get um what the um your<br>ideas of what the syntactic sugar should<br>be so like i was thinking like suggest<br>analysis suggest model i mean i gave a<br>talk and somebody else said our design<br>model baseline model and so forth<br>um so<br>the information is indeed there<br>um<br>if i go to this one<br>honor<br>um so there is sort of like um<br>information encoded and there is a part<br>anatomy yeah so includes the unit<br>structure um simply there's a treatment<br>structure that's embedded so there's<br>like a little model in there already um<br>but then i haven't implemented anything<br>about like suggesting models yet um<br>particularly i want to be very careful<br>doing this um just in case that that's<br>going to encourage people to think that<br>the baseline model is like the only<br>model that they need to use for the<br>analysis<br>um so if you have ideas of like what you<br>might think is best practice um i would<br>very much love to<br>listen<br>brilliant probably avoid it and let</p></main><footer style="margin-top: 2rem; background: #0001; padding: 2rem; text-align: center;"><p>We Are The University</p><ul style="list-style-type: none; padding: 0; margin: 0;"><li><a href="/">Home</a></li><li><a href="/about">About</a></li><li><a href="/contact">Contact</a></li></ul></footer></body></html>