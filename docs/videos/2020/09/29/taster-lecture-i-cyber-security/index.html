<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>We Are The University</title><link rel="stylesheet" href="/styles.css"></head><body><header><h1 style="color: #fff;font-family: 'Arial Black', Gadget, sans-serif;font-style: italic;font-weight: 900;text-transform: uppercase;">We Are The University    </h1><nav><ul><li><a href="/">Home</a></li><li><a href="/about">About</a></li><li><a href="/contact">Contact</a></li><li><a href="/blog">Blog</a></li><li><a href="/videos">Videos</a></li><li><a href="/authors">Authors</a></li></ul></nav></header><main><h2 style="text-align: center;">Taster Lecture I Cyber Security [25:21]</h2><p style="text-align: center;"><a href="https://www.youtube.com/watch?v=dDF3zr-5MU0" target="_blank">Watch on Youtube</a></p><p style="text-align: center;"><a href="https://www.youtube.com/channel/UCYzot7AKCB5paA4vp8wXuvw" target="_blank">The University of Waikato</a></p><img src="https://i.ytimg.com/vi/dDF3zr-5MU0/sddefault.jpg" alt="Thumbnail for video titled: Taster Lecture I Cyber Security" style="width: 100%;"><div class="tags"><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#waikato</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#hamilton new zealand</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#study in new zealand</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#study abroad</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#virtual open day</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#open day</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#lecture</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#ted talk</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#introduction</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#university</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#university of waikato</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#waikato uni</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#mini lecture</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#education</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#masters degree</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#masters</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#management</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#study</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#learn</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#organisational development</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#culture</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#strategy</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#organisational culture</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#management culture</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#business strategy</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#tauranga new zealand</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#Cyber security</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#study computing</span><span style="background: #0003; border-radius: 0.3em; padding: 0.3em; display: inline-block; margin: 0.2em; font-size: 0.8em">#CROW</span></div><h2>Description</h2><p>Meet Vimal Kumar and get a taster for what studying Cyber Security at the University of Waikato is like. Vimal is one of our Senior Lectures and is also the head of Cybersecurity Researchers at Waikato (CROW).<br><br>Check out the Waikato Virtual Experience to find out more about life as a Waikato student: http://www.waikato.ac.nz/international/virtual-open-day-2020<br><br>Follow us on Facebook: http://www.facebook.com/WaikatoUniversity<br>Follow us on Instagram: http://www.instagram.com/WaikatoUniversity</p><h2>Transcript</h2><p style="opacity: 0.9; font-size: 0.8em">Transcripts may be automatically generated and may not be 100% accurate.</p><p>hello everyone and welcome to this<br>introductory lecture<br>on malware analysis my name is vimal<br>kumar<br>and i'm a senior lecturer at the<br>university of waikato<br>i'm also the head of our cyber security<br>lab here which we call crow<br>it's always nice to have a short acronym<br>that rolls up the tongue easily<br>and we call ourselves crow cyber<br>security researchers of wicked<br>before i go forward i'm going to drag<br>this<br>window down at the bottom so that it<br>right i'm also the convener of our<br>master of<br>cyber security program which happens to<br>be<br>the oldest cyber security program at the<br>postgraduate level in new zealand<br>i teach the papers on cyber security and<br>malware analysis and pen testing my<br>research<br>revolves around cyber security in<br>general but also<br>in internet of things and recently i<br>have also started working in this new<br>and exciting<br>now if you have worked with computers<br>and if you are a student of computing<br>you may have had the misfortune<br>of coming across a malware before<br>so malware can take many forms malware<br>basically stands for malicious<br>software and the various forms that it<br>can take you may be familiar with some<br>of them<br>are ransomware viruses<br>worms trojans etc<br>when a machine is infected with a<br>malware<br>it shows certain signs of infection and<br>so<br>you may have already done some primitive<br>form of malware analysis if<br>you have had the misfortune of having<br>malware on your machine<br>so some of the characteristics that the<br>machine can display<br>is that it may be slow it may be doing<br>strange<br>things it may be behaving strangely and<br>when that happens you try to investigate<br>the root cause behind it and that<br>basically is malware analysis<br>to put it formally the malware analysis<br>is the art of dissecting malware to<br>understand<br>how it works how to identify it and how<br>to eliminate it<br>it involves analyzing a suspect binary<br>in a safe environment to identify its<br>characteristics and functionalities<br>malware analysis can take two different<br>forms<br>you can do static analysis and you can<br>do dynamic analysis<br>one of the things to remember when<br>you're doing malware analysis or<br>when an analyst an expert is doing<br>malware analysis<br>is that for a malware<br>when you want to analyze a malware you<br>don't really have<br>access to the source code so you have<br>this malicious software but all you have<br>is the executable and you want to<br>identify<br>how you want to understand how this<br>executable work how the software works<br>you want to understand<br>what functions it has you want to<br>understand its characteristics you want<br>to understand what it's doing<br>and all you have to understand it is<br>that executable you don't have the<br>source code<br>and so a lot of malware analysis<br>is basically trying to find out all that<br>information<br>through that executable<br>so the malware analysis can take two<br>different forms like i said before<br>static analysis or dynamic analysis<br>in static analysis which is usually the<br>first step in studying malware<br>we analyze the code and the structure of<br>the program<br>without executing it okay and when i say<br>analyze the code<br>i'm not talking about the source code<br>because we don't have access to the<br>source code<br>i'm talking about the binary by the<br>binary code<br>and the assembly code which we have<br>access to<br>in the executable the dynamic analysis<br>on the other hand<br>what we do in dynamic analysis is that<br>we execute<br>that binary we execute the ransomware or<br>malware in general in an isolated<br>environment<br>and we monitor its behavior we try to<br>see what<br>the malware is doing so that we<br>understand<br>how it works okay so those are the two<br>different<br>forms of malware analysis and what i'm<br>going to do in the rest of<br>this short lecture is i'm going to<br>talk about a few simple and easy things<br>that we can do<br>to perform some introductory<br>now before you do any analysis any<br>malware<br>any analysis on the malware it is very<br>important<br>that you create a safe environment<br>to do so okay remember the malware<br>you always do malware analysis in a safe<br>and isolated environment<br>you do not want the malware that you're<br>analyzing<br>to infect your machine and you<br>definitely do not want the malware that<br>you and<br>that you are analyzing to escape your<br>machine<br>and infect other machines okay so it is<br>very important<br>before doing any sort of malware<br>analysis<br>to set up a safe and isolated<br>environment<br>so here is one of the ways that you can<br>do this<br>so you start by using a virtualized<br>platform so you can<br>use any virtualization platform either<br>use vmware virtualbox or something else<br>and always perform malware analysis<br>on virtual machines never perform<br>malware analysis on physical machines<br>always install a fresh copy of the<br>operating system<br>inside the virtual machine and always<br>keep your virtualization software up to<br>date<br>now you must keep in mind<br>that your virtual machine should not be<br>able<br>to connect with the outside world<br>so one of the ways of doing that is by<br>using the host only network<br>configuration for your vms<br>so that your vm is isolated from the<br>outside world<br>and also make sure that you do not<br>connect any removable media<br>that might be later used on a physical<br>machine<br>what you can also do is inside the<br>physical machine you can<br>create multiple virtual machines and you<br>can have<br>a network of virtual machines that can<br>talk to each other<br>but are not able to talk to the outside<br>world<br>so that could be a good safe<br>and isolated environment to<br>okay so let's say you have<br>found a an executable a binary<br>that you suspect is a malware so what do<br>you do how do you start<br>okay the first thing is how do we<br>identify<br>we need a way to identify the malware<br>okay<br>now we cannot use the name of the<br>malware to<br>as an as an identification for the<br>malware because names are<br>names are changeable they can be changed<br>if there is a malware author<br>say we are talking about the wannacry<br>malware okay<br>the malware author is not going to use<br>the<br>real malware name or anybody who's<br>distributing the malware<br>is not going to use the real malware<br>malicious name<br>as its name they're going to rename the<br>malware<br>do something benign so that they can<br>fool the user so definitely we cannot<br>use the<br>name of the malware to to identify it we<br>need a better identification mechanism<br>so one of the ways that we can use one<br>of the<br>mechanism that we can use to identify a<br>malware<br>is hashing so we can create hashes on<br>the malware<br>and you can use any of the hashes any of<br>the major hashing algorithms<br>people that are out there such as mp5 or<br>sha 1 or sharp 256<br>and you can create a hash on your file<br>and use that as the identifier<br>for the malware that you're dealing with<br>so there are various utilities available<br>on linux like<br>md5 some sha one some shadow 56 sun to<br>create<br>hashes on files there is sha sum utility<br>on mac os that you can use<br>and there are various applications that<br>you can download for windows<br>that will allow you to create hashes<br>okay so here's an example<br>that i have on my slides where i'm this<br>is a piece of<br>malware an executable and i<br>am creating a md5 hash<br>on that okay so that's my um<br>that's the hash for my<br>malware here okay so<br>so that's something that we can do for<br>identifying a malware<br>okay now once you have the malware and<br>once you have that identification once<br>you have that hash<br>what can you do with it okay the first<br>thing to do<br>would be to try an online scanner<br>to see if there is any information about<br>that malware<br>online okay so there are online scanners<br>like wires total that act as<br>aggregators and what they do is if you<br>submit something to them<br>they're going to talk to various other<br>anti-viruses anti-malware<br>and they're going to try and see what<br>they think of<br>the hash that you have uploaded so what<br>we can do is once we have the file<br>identifier<br>once we have the hash we can submit that<br>hash to virustotal<br>which is an online scanner and see what<br>it says<br>it can come come back with if it's a<br>malware it can come back with saying hey<br>55 out of the 60 scanners<br>that i contacted think this is a malware<br>so in that case<br>you know what you're dealing with one of<br>the<br>fun things you can do is i have this<br>hash here that was calculated for this<br>particular<br>malware you can try and see what it<br>returns you can try and plug this in and<br>to<br>plug this in into wireless total and you<br>can see<br>what various total says about this<br>particular hash<br>okay so when you submit a hash to an<br>online scanner it can come back with<br>saying it's a<br>malware or it can come back<br>and say it did not detect anything<br>okay now when an online scanner says it<br>didn't<br>detect anything it doesn't mean that the<br>file that you're dealing with<br>is not a malware it just means that<br>it was not detected as a malware so that<br>can mean two things<br>one of course that it's not a malware<br>but also<br>it means that or it may mean that<br>the online scanner wasn't able to detect<br>this so it may be a malware but the<br>online scanner<br>hasn't been able to detect it okay so<br>when an online scanner says<br>it did not detect the malware it does<br>not mean that<br>what you have is not a malware so you<br>have to be careful<br>you cannot rely 100 on the online<br>scanners<br>okay one thing that you have to be<br>careful about<br>for many of these online scanners they<br>will accept the file identifier the file<br>hash<br>but they will also accept the file<br>itself so you can take your file and you<br>can upload it to virustotal and<br>um and wireless total will tell you<br>whether<br>it's a malware or not but<br>i would advise that you don't<br>upload files to online scanners because<br>files may contain sensitive data okay<br>and you don't want to expose your<br>sensitive data<br>to wireless total so a good idea would<br>be to just use a<br>file identifier like a hash and submit<br>the hash to an online scanner<br>right now uh so that was one of the<br>first things you can do<br>another thing that you can do is you can<br>do a strings analysis<br>of your malware okay so<br>what we all understand what strings are<br>but<br>what we also need to understand is that<br>strings in a program can give us a lot<br>of clues<br>about what that program does okay so a<br>program may have many types of strings<br>so<br>of course you can have literal strings<br>so strings that you<br>use as variables but you can also have<br>strings<br>which are the names of functions the<br>names of libraries the paths to<br>libraries and things like that<br>so when you look at all of these strings<br>that<br>are there in a in a binary that can give<br>you a lot of information<br>about what that program does<br>there is this utility called strings<br>that is you can find it inbuilt in linux<br>and mac os but for windows it's<br>available to download<br>from microsoft website and so what this<br>strings<br>utility basically does is it extracts<br>all the strings that are there in a in<br>an executable<br>okay so the strings that you write in<br>your program are preserved in the<br>executable<br>so you can extract those from the<br>executable the way strings works<br>is it's right it tries to find uh three<br>or more ascii characters followed by a<br>null character so if it finds something<br>like this<br>it will tell you that it has found a<br>string so let's see an example<br>so here's an example here's a source<br>code in c<br>and so you can see that in the source<br>code i have<br>a string variable<br>and that is basically a string and i'm<br>printing it out okay so that's a simple<br>program i have compiled this program and<br>then i do a<br>strings on this program so i'm just<br>running the strings utility on the<br>executable<br>and this is what it finds so these are<br>all the strings it found in my program<br>okay so what are these strings so you<br>can see that<br>there these this is the path name this<br>is the path<br>name uh this is a part to a library file<br>so i can see what library files were<br>compiled<br>uh there is the printf function so<br>that's the name of the function that is<br>also a string so i can see what<br>functions were used<br>there are some other functions here that<br>were used<br>and then if you go down below you'll<br>also find the literal string that was<br>used in the program okay<br>so the strings utility gave me<br>all the different strings that were<br>compiled into this binary<br>and sometimes this can give you a lot of<br>information about the malware this can<br>tell you exactly what functions malware<br>is your malware is using<br>and exactly what the malware is doing<br>okay so strings is one of the simplest<br>of the things that you can do<br>and it can give you a lot of information<br>about the malware<br>okay another thing that you can do is uh<br>well one of the things that you would<br>want to do<br>when you're analyzing a malware is um<br>you would want to first of all identify<br>what this file is okay and<br>sometimes the identification is not very<br>straightforward<br>so a lot of times malware authors and<br>people who distribute cyber criminals<br>who distribute malware<br>they obviously don't want the users to<br>know that this is an executable<br>so they will change the um file<br>extension<br>okay so you have one of try.exe<br>but oneacry.exe appears as<br>test dot dot x<br>or test dot text okay obviously because<br>the<br>um these criminals don't want you to<br>know<br>what this actually is okay so in that<br>case how do you identify<br>if you are dealing with a file what type<br>of the file it is if it says it's<br>test.txt<br>is it really a text file okay so how do<br>you identify that if it says test.docx<br>is it really a doc file is really a word<br>file how do you identify that<br>um so um file extensions can very easily<br>be changed so file extensions are not<br>reliable<br>okay but there is something that we can<br>do which is much more reliable than file<br>extension and that is we can look at<br>magic numbers okay so every file format<br>has a particular signature<br>okay and that signature is also referred<br>to as magic number<br>okay so basically a magic number is a<br>hard-coded number<br>and every file type every file format<br>will have that particular number that<br>you can find in the file<br>okay so for example pe files<br>which is the file format used by windows<br>executables<br>has the magic number 4d5a okay<br>so every executable file windows<br>executable file that you will see<br>will have this magic number pdf files<br>have this magic number gif files have<br>this magic number that's the magic<br>number for dot x and that's the magic<br>number for mp3<br>so if you're not sure what file you're<br>dealing with one of the things that you<br>can do<br>is you can open that file as a binary<br>in a hex editor and try to see<br>the magic number okay and that will tell<br>you exactly what type of<br>file it is even if the file extension<br>has been changed<br>so for example uh i have this executable<br>file<br>called hxd setup.exe and i'm opening it<br>in a hex editor<br>and i can see that the first two bytes<br>are 4d5a okay<br>and what's 4d5a 45a is the signature is<br>the magic number<br>for executable files right so i can be<br>assured<br>that this is indeed an executable file<br>okay so even if somebody disguises it as<br>test.txt if i open it and find that<br>executable<br>okay so so those were some of the simple<br>things that you can do<br>in static analysis now let's talk about<br>dynamic analysis<br>okay so a lot of times we want to<br>understand we would want to understand<br>the behavior of malware we want to know<br>what the malware does static analysis<br>sometimes can<br>give us a lot of information but a lot<br>of times there are ways<br>to obfuscate information that we won't<br>get from static analysis so we then have<br>to do dynamic analysis<br>now there are a lot of things that you<br>can do in dynamic analysis but i'm going<br>to talk about only one of them<br>and that is looking for persistence<br>so one of the things that malware do<br>is they try to establish themselves<br>on machines once they are on a machine<br>okay<br>so if a cyber criminal is distributing a<br>malware and they want to profit from the<br>malware obviously<br>they don't want the malware to just go<br>away once you reboot the system<br>okay so they try to find ways<br>where the malware can establish<br>itself on the machine and can persist<br>even after a machine<br>is rebooted so there are various ways to<br>do that there are various ways a malware<br>can<br>establish itself so that it persists<br>after a reboot and one of the ways that<br>a lot of malware use is by inserting<br>themselves at various places<br>in windows registry okay so i'll talk<br>about that a little bit<br>so windows registry is basically a large<br>configuration file for the windows<br>operating system<br>and that information that lies<br>in the windows registry is used by the<br>windows operating system when it boots<br>up<br>so it's basically the windows registry<br>is basically a large key value store<br>where you have a lot of keys<br>and each key has some value but it's a<br>hierarchical storage<br>and so each key has other sub keys<br>and those sub keys have other sub keys<br>inside of them<br>so at the top at the root level we have<br>these five keys<br>hkcr hkcu hklm hku and hkcc<br>and within these top level keys there<br>are various other sub keys<br>now off there are a lot of keys<br>in windows registry if you have ever<br>opened windows registry you will know<br>you will have seen that i'm not going to<br>talk about all the different keys<br>because that will take<br>i don't know six months but what i will<br>do is i'll talk about<br>some of the important keys that malware<br>use very often so<br>these are some of the important keys not<br>key these are multiple keys so or you<br>can<br>say registry locations that malware use<br>um there was a little bit of a hiccup<br>there<br>but we're back um so we have these keys<br>uh<br>run keys run once keys run once x keys<br>setup keys and app init underscore dll<br>keys<br>that are used quite often by malware so<br>if a malware<br>if well in general if you want to<br>run a program every time the user logs<br>into a machine<br>you place the address of the program in<br>one of the run keys<br>and malware authors obviously want the<br>malware to run every time you log in<br>so you will find that the malware<br>authors try to insert<br>the malware in the run key so that's one<br>of the place that you will look<br>for if you're looking for a malware on a<br>machine<br>similarly you have to run once key run<br>once key<br>runs the program that's placed there the<br>first time the user logs in<br>you also have the run one x run once<br>x keys which are like the run one skis<br>but<br>they when they execute the program they<br>execute it with a dialog box<br>uh you also have the startup keys and<br>the startup every program that is placed<br>in the startup piece<br>is executed every time the machine votes<br>and finally you also have the app init<br>underscore dll keys<br>and all the programs generally dlls that<br>are placed<br>in these kind of keys they are inserted<br>they are injected<br>in the address space of each process so<br>this is really important and can be<br>really malicious<br>so one of the things that you would want<br>to do if you're looking for<br>malware and you're trying to see how the<br>malware is<br>trying to persist on your machine is<br>that is that you go to these keys and<br>you try to see<br>what's happening in those keys is there<br>any<br>obviously uh strange activity happening<br>in these keys is there something that<br>you reckon<br>that you don't recognize okay so that's<br>some of one of the things that you can<br>do<br>in dynamic analysis now<br>you will need registry is huge there are<br>hundreds and hundreds and hundreds of<br>keys<br>so you will need certain tools if you<br>want to deal with the registry<br>you are probably familiar with regedit<br>that is used<br>to edit the registry keys which is a gui<br>there's also this nice little tool<br>available called<br>redshot so if you want to see what<br>keys the malware has deleted or what<br>keys the malware has updated or what<br>keys the malware has inserted<br>into the registry you can use red short<br>so the way red shot works is that it<br>takes snapshots of the registry keys<br>so you can run red short and then run<br>the malware<br>and then run run shot again and<br>then you can compare the snapshots and<br>red shot well red shot compares the<br>snapshots automatically for you and<br>gives you<br>what was changed so uh that is something<br>that you can do<br>under dynamic analysis for malware<br>analysis<br>and that is all i have for you and that<br>will conclude<br>this little introductory lecture on</p></main><footer style="margin-top: 2rem; background: #0001; padding: 2rem; text-align: center;"><p>We Are The University</p><ul style="list-style-type: none; padding: 0; margin: 0;"><li><a href="/">Home</a></li><li><a href="/about">About</a></li><li><a href="/contact">Contact</a></li></ul></footer></body></html>